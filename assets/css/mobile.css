/* Améliorations mobiles pour Projet Blocus */

/* Améliorations générales */
@media (max-width: 640px) {
    /* Espacements et tailles de texte */
    html {
        font-size: 14px;
    }
    
    /* Navigation améliorée */
    .glass-nav {
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
    }
    
    /* Boutons mobiles plus grands */
    button, .btn {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Zones de touch optimisées */
    .touch-target {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Scroll horizontal caché */
    .overflow-x-hidden {
        overflow-x: hidden;
    }
    
    /* Images responsives */
    img {
        max-width: 100%;
        height: auto;
    }
    
    /* Tables responsives */
    table {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
    }
}

/* Améliorations pour tablettes */
@media (min-width: 641px) and (max-width: 1024px) {
    html {
        font-size: 15px;
    }
    
    /* Grilles optimisées */
    .grid-responsive {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Améliorations spécifiques aux formulaires */
@media (max-width: 640px) {
    input, textarea, select {
        font-size: 16px; /* Évite le zoom sur iOS */
        -webkit-appearance: none;
        appearance: none;
    }
    
    .form-group {
        margin-bottom: 1.25rem;
    }
    
    .form-label {
        font-size: 0.875rem;
        margin-bottom: 0.5rem;
    }
}

/* Animations optimisées pour mobile */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Navigation mobile améliorée */
@media (max-width: 768px) {
    .mobile-menu {
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
    }
    
    .mobile-menu.active {
        transform: translateX(0);
    }
    
    .mobile-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 40;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease-in-out;
    }
    
    .mobile-overlay.active {
        opacity: 1;
        visibility: visible;
    }
}

/* Cartes et contenus mobiles */
@media (max-width: 640px) {
    .card {
        margin-bottom: 1rem;
        border-radius: 0.75rem;
    }
    
    .card-content {
        padding: 1rem;
    }
    
    .card-title {
        font-size: 1.125rem;
        line-height: 1.4;
    }
    
    .card-description {
        font-size: 0.875rem;
        line-height: 1.5;
    }
}

/* Footer mobile */
@media (max-width: 640px) {
    footer {
        padding: 2rem 1rem;
    }
    
    .footer-links {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
    
    .footer-link {
        padding: 0.5rem 0;
    }
}

/* Notifications mobiles */
@media (max-width: 640px) {
    .notification {
        margin: 0.5rem;
        border-radius: 0.5rem;
    }
    
    .notification-title {
        font-size: 0.875rem;
        font-weight: 600;
    }
    
    .notification-message {
        font-size: 0.8125rem;
        line-height: 1.4;
    }
}

/* Modales mobiles */
@media (max-width: 640px) {
    .modal {
        padding: 1rem;
        max-width: calc(100vw - 2rem);
        max-height: calc(100vh - 2rem);
        overflow-y: auto;
    }
    
    .modal-header {
        padding: 1rem 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        margin-bottom: 1rem;
    }
    
    .modal-title {
        font-size: 1.25rem;
        line-height: 1.4;
    }
    
    .modal-content {
        padding: 1rem 0;
    }
}

/* Dashboard mobile */
@media (max-width: 640px) {
    .dashboard-stats {
        grid-template-columns: 1fr;
        gap: 0.75rem;
    }
    
    .stat-card {
        padding: 1rem;
    }
    
    .stat-value {
        font-size: 1.875rem;
    }
    
    .stat-label {
        font-size: 0.8125rem;
    }
    
    .dashboard-grid {
        grid-template-columns: 1fr;
        gap: 0.75rem;
    }
}

/* Optimisations pour les écrans tactiles */
@media (hover: none) and (pointer: coarse) {
    .hover-effect:hover {
        transform: none;
    }
    
    .hover-effect:active {
        transform: scale(0.98);
        transition: transform 0.1s ease;
    }
    
    .tooltip {
        display: none;
    }
}

/* Accessibilité mobile */
@media (max-width: 640px) {
    .skip-link {
        position: absolute;
        top: -40px;
        left: 6px;
        background: #000;
        color: #fff;
        padding: 8px;
        text-decoration: none;
        border-radius: 4px;
        z-index: 1000;
    }
    
    .skip-link:focus {
        top: 6px;
    }
}

/* Performance mobile */
@media (max-width: 640px) {
    .heavy-animation {
        animation: none !important;
    }
    
    .parallax {
        transform: none !important;
    }
    
    .glass-effect {
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
    }
}

/* Mode paysage mobile */
@media (max-width: 640px) and (orientation: landscape) {
    .landscape-hidden {
        display: none;
    }
    
    .landscape-compact {
        padding: 0.5rem;
    }
    
    .landscape-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.5rem;
    }
}

/* iPhone X et plus (notch) */
@supports (padding: max(0px)) {
    .safe-area-inset {
        padding-left: max(1rem, env(safe-area-inset-left));
        padding-right: max(1rem, env(safe-area-inset-right));
        padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }
    
    .safe-area-inset-top {
        padding-top: max(1rem, env(safe-area-inset-top));
    }
}
